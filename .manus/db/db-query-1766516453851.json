{
  "query": "CREATE TABLE IF NOT EXISTS `task_edit_proposals` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `taskId` int NOT NULL,\n  `proposedBy` int NOT NULL,\n  `proposedChanges` json NOT NULL,\n  `status` enum('pending', 'approved', 'rejected') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`taskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`proposedBy`) REFERENCES `household_members`(`id`),\n  FOREIGN KEY (`reviewedBy`) REFERENCES `household_members`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `dependency_proposals` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `taskId` int NOT NULL,\n  `dependsOnTaskId` int NOT NULL,\n  `dependencyType` enum('prerequisite', 'followup') NOT NULL,\n  `proposedBy` int NOT NULL,\n  `status` enum('pending', 'approved', 'rejected') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`taskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`dependsOnTaskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`proposedBy`) REFERENCES `household_members`(`id`),\n  FOREIGN KEY (`reviewedBy`) REFERENCES `household_members`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `notifications` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `householdId` int NOT NULL,\n  `memberId` int NOT NULL,\n  `type` enum('task_assigned', 'task_completed', 'task_due_soon', 'task_overdue', 'edit_proposal', 'dependency_proposal', 'proposal_approved', 'proposal_rejected', 'project_update', 'other') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `relatedItemType` enum('task', 'project', 'proposal', 'shopping', 'other'),\n  `relatedItemId` int,\n  `isRead` boolean NOT NULL DEFAULT false,\n  `readAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`householdId`) REFERENCES `households`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`memberId`) REFERENCES `household_members`(`id`) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS `notification_settings` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `memberId` int NOT NULL UNIQUE,\n  `taskAssigned` boolean NOT NULL DEFAULT true,\n  `taskCompleted` boolean NOT NULL DEFAULT true,\n  `taskDueSoon` boolean NOT NULL DEFAULT true,\n  `taskOverdue` boolean NOT NULL DEFAULT true,\n  `editProposal` boolean NOT NULL DEFAULT true,\n  `dependencyProposal` boolean NOT NULL DEFAULT true,\n  `proposalApproved` boolean NOT NULL DEFAULT true,\n  `proposalRejected` boolean NOT NULL DEFAULT true,\n  `projectUpdate` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`memberId`) REFERENCES `household_members`(`id`) ON DELETE CASCADE\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2YxFwjaS6n4EGE7.031ea3147ddd --database 5dPSLyh58e9tDjPvGLCuzX --execute CREATE TABLE IF NOT EXISTS `task_edit_proposals` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `taskId` int NOT NULL,\n  `proposedBy` int NOT NULL,\n  `proposedChanges` json NOT NULL,\n  `status` enum('pending', 'approved', 'rejected') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`taskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`proposedBy`) REFERENCES `household_members`(`id`),\n  FOREIGN KEY (`reviewedBy`) REFERENCES `household_members`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `dependency_proposals` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `taskId` int NOT NULL,\n  `dependsOnTaskId` int NOT NULL,\n  `dependencyType` enum('prerequisite', 'followup') NOT NULL,\n  `proposedBy` int NOT NULL,\n  `status` enum('pending', 'approved', 'rejected') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`taskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`dependsOnTaskId`) REFERENCES `tasks`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`proposedBy`) REFERENCES `household_members`(`id`),\n  FOREIGN KEY (`reviewedBy`) REFERENCES `household_members`(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `notifications` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `householdId` int NOT NULL,\n  `memberId` int NOT NULL,\n  `type` enum('task_assigned', 'task_completed', 'task_due_soon', 'task_overdue', 'edit_proposal', 'dependency_proposal', 'proposal_approved', 'proposal_rejected', 'project_update', 'other') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `relatedItemType` enum('task', 'project', 'proposal', 'shopping', 'other'),\n  `relatedItemId` int,\n  `isRead` boolean NOT NULL DEFAULT false,\n  `readAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (`householdId`) REFERENCES `households`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`memberId`) REFERENCES `household_members`(`id`) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS `notification_settings` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `memberId` int NOT NULL UNIQUE,\n  `taskAssigned` boolean NOT NULL DEFAULT true,\n  `taskCompleted` boolean NOT NULL DEFAULT true,\n  `taskDueSoon` boolean NOT NULL DEFAULT true,\n  `taskOverdue` boolean NOT NULL DEFAULT true,\n  `editProposal` boolean NOT NULL DEFAULT true,\n  `dependencyProposal` boolean NOT NULL DEFAULT true,\n  `proposalApproved` boolean NOT NULL DEFAULT true,\n  `proposalRejected` boolean NOT NULL DEFAULT true,\n  `projectUpdate` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`memberId`) REFERENCES `household_members`(`id`) ON DELETE CASCADE\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1047
}